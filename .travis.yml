branches:
  except:
    - /^f\//
cache:
  directories:
    - /tmp/support-firecloud.cache
    - $HOME/.local
    - $HOME/.npm
    - $HOME/.pip-cache/
    - $HOME/Library/Caches/Homebrew
    - node_modules
before_install:
  - support-firecloud/ci/linux-nosudo/bootstrap
install:
  - make deps
script:
  - make

language:
  - node_js
node_js:
  - node

os: linux
dist: trusty
sudo: false

notifications:
  slack:
    rooms:
      - secure: "bY1QTALrfsk6mLJ5sgDgPSbIp2P37X1sI7iAkiGIaikb9yZsUyZ+vPpYNjatZCgQVmEyHhZqOIUjeB0irTfKHGF+fO5IiZQSwz9fISgdhdEK5KYRzDrCYwLVQGTIW9KNRndGWp3JsQjjIsXgqihPqwzo8u23s22kIWH2+BtiOFVrmj+u36kz+yTS6J7cqwmKlrbt44uX4ociN10LwQ0bE/JCOZDn2z5aYo+AEpIwYvsyF/fKQPgkOn40qAa0eVY3vh8g3/fMqR/dzHZbp29z1LhJAwAD/IeVBB0LP2fpgWuslWQRmt5knnne5bAC0x920i4Jws29D5pVIpZHHT61B4cBetDjwYmw1YucTJRtIPdNljkG2VaYrVvwpWt/BgrzKf+ubfE5AlDF9U2e6URH1M2/7lBnh1KqJoLadmX2F/a7ePWa1t4T+3Skf8V/JC6nK35IFmJhvmV/HqT5J+93Tj8l0hnVouZrcoWHbLa21Lpdwmd9Uu+QLLAa8YxkfiBqv0t+MnjAvIgQ061ElB7XoO6PYbcHfMUnNdLnz4pg/bGutisc6LiRsMc4pBgd01riUC8rjx11Rhyij4lndcUtl481Svx5qbtN3vRvVm5MpvA/hNn9thXCEPBJnXmBhRRxS8TSd6LCjl+cY8XfOo6bVM2k4HQIX8G+uEWWVrOz1PY=" # atex-ci
      - secure: "P/1924krTEOHaJbuEWjGzlt9VGrrdjz8Yv3L44eqpOmTFMUHvZUUgPPlCBig+wL8Ab6JmVFRpkY28pT/3G/OxaF5RI5JGykmDFeAYSSpRPE7T9Kwne0Ei4PtP9SZlobI/aNOjc/pgVkxTdNN+yZktjeki22Ee8Em/IfBmS2wfCrLRJUpkhPM2Mk8trrifsJykfDp38uqhDGOgRdZRdSpfwwXGUyQA2VfP+MsRmGFOsf2u04DRwM303HxlJTxKYx0ysUUTf1M8sdd3gzsIGndr2NTd6KDRb/GjwZU8zr2OPhKp7LoxNg+s422WS6y2tyaSRqA+uTCntMzFjySlT7as6VmJnz3kSMg5yXEN8SAHL+fqbpzw2cNmmJ7q6UKs0lW4dQvJo+W89tor+sK14gb9sM1VBh+HQH6uHy1Bb007HgEWZtiIhbdlQypxFf/sj1PsshMxHDsAvg5ryKQgadNBjzunlIfN08ekQDXNKaZhvWagoQGiH6EmpDlOfFX57Tk/zI5aeG9A9uKOf+IHDdHlSnZQV42WF3YiBY48tjHDRczmQZTylbPCNL+P8szoUbXgnaedhhh24kZQa2G5nkprSMzd6ed+BRZ1D/iIryBCYWEj2nV80dEZ5Ys17Y5Lg5Uj7+HidDdbkB4O7Ajym044nBf1gmZZc2ViBWW691hMf4=" # cloud-ci
    on_success: change
    on_pull_requests: false
